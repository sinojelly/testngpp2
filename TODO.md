# 计划做的事情

## 目标
### 1. 简化编译工程， 加快编译速度
- 编译时，针对每个cpp测试文件生成一个so。(链接次数多，耗时长，而且很难并行 make -j 也不能起作用)
- 编译的 CMakeList.txt 较复杂。
- 之前修改被测cpp，可能不能重新编译测试的so。

### 2. 简化运行命令， 方便运行和调试
- 运行时需要较多参数，新手会觉得困难

### 3. 改进运行可靠性, 支持更多平台使用
- 当前运行时可能遇到so无法加载, 虽然经优化已经好转。
- Android上部分so加载不成功。
- 动态库移到其它编译环境(如编译器版本)很可能不能运行，而静态库可以用的可能性大一些。

### 打算做成这样:
- 编译所有 cpp 测试文件 并链接 libtestngpp.a 生成一个测试文件。

## 任务
- [x] 利用原来的编译脚本，把新的项目编译通过。
- [x] 简化CMakeList.txt, 直接添加cpp文件到一个CMakeList.txt。
- [x] 编译成可执行文件，运行看是否异常。
- [ ] 研究用例运行的触发机制，之前通过load so触发，现在要自动把用例列表弄出来。原来通过命令行参数中的每个suite so加载触发用例运行。
- [ ] 用直接编译成可执行文件方式运行sample程序。
- [ ] 确认xml, stdout输出切换命令，不用加载so的方式。
- [ ] 先改testngpp所有cpp链接成一个.a，作为被测对象。
- [ ] 然后改 testngppst 支持编译成一个可执行文件，从而运行测试。
- [ ] 重构目录，把不同平台对应的实现分开。便于在构建脚本中管理。
- [ ] python解析和处理测试.h文件时，针对FIXTURE和TEST后面{未换行的情况作编译报错，或者作兼容处理。
- [ ] 支持BDD类型的测试。

- [x] 确认ResourceCheckPoint是否还需要，不需要去掉。(可能检查文件关闭方面有用)
- [x] 确认Sandbox是否需要，不需要去掉。